{"version":3,"sources":["webpack:///webpack/bootstrap 95e88c2ae3f202b64301","webpack:///./js/plugin/src/simplechart-controller.js","webpack:///./js/plugin/src/simplechart-item.js","webpack:///./js/plugin/src/simplechart-post-frame.js","webpack:///./js/plugin/src/simplechart-toolbar.js","webpack:///./js/plugin/src/simplechart-view.js","webpack:///./js/plugin/src/simplechart-insert.js"],"names":["SimplechartController","wp","media","controller","State","extend","initialize","props","Backbone","Collection","add","Model","id","params","page","min_id","max_id","fetchOnRender","selection","on","refresh","frame","toolbar","get","doInsert","content","getSelection","shortcodes","each","model","push","tinymce","activeEditor","isHidden","editor","insert","_","toArray","join","reset","close","SimplechartItem","View","tagName","className","render","template","$el","html","toJSON","postFrame","view","MediaFrame","Post","SimplechartPostFrame","args","prototype","apply","menu","title","priority","simplechartContentRender","states","Simplechart","simplechartToolbarCreate","set","state","Toolbar","parentInitialize","SimplechartToolbar","defaults","options","event","items","inserter","style","text","click","Button","classes","length","SimplechartView","events","collection","createToolbar","clearItems","jQuery","attr","show","hide","changedParams","loading","loaded","changedPage","paginate","fetchItems","models","container","document","createDocumentFragment","appendChild","renderItem","find","append","closest","addClass","prop","el","prepend","toolbarTemplate","removeSelectionHandler","target","currentTarget","removeFromSelection","preventDefault","toggleSelectionHandler","href","addToSelection","_byId","trigger","removeClass","remove","clearSelection","empty","date","Date","tzOffsetSeconds","getTimezoneOffset","data","_nonce","simplechart","service","tab","tz_off","ajax","context","success","fetchedSuccess","error","fetchedError","response","fetchedEmpty","meta","moreEmpty","concat","error_message","updateInput","n","val","addEventListener"],"mappings":"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","file":"simplechartInsert.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// identity function for calling harmony imports with the correct context\n \t__webpack_require__.i = function(value) { return value; };\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, {\n \t\t\t\tconfigurable: false,\n \t\t\t\tenumerable: true,\n \t\t\t\tget: getter\n \t\t\t});\n \t\t}\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 7);\n\n\n\n// WEBPACK FOOTER //\n// webpack/bootstrap 95e88c2ae3f202b64301","/* globals Backbone, tinymce */\n// Controller\nexport default function () {\n  const SimplechartController = wp.media.controller.State.extend({\n    initialize() {\n      this.props = new Backbone.Collection();\n\n      this.props.add(new Backbone.Model({\n        id: 'all',\n        params: {},\n        page: null,\n        min_id: null,\n        max_id: null,\n        fetchOnRender: true,\n      }));\n\n      this.props.add(new Backbone.Model({\n        id: '_all',\n        selection: new Backbone.Collection(),\n      }));\n\n      this.props.on('change:selection', this.refresh, this);\n    },\n\n    refresh() {\n      this.frame.toolbar.get().refresh();\n    },\n\n    /**\n     * Replicate MEXP function except with shortcodes intead of URLs.\n     */\n    doInsert() {\n      const selection = this.frame.content.get().getSelection();\n      const shortcodes = [];\n\n      selection.each((model) => {\n        shortcodes.push(`[simplechart id=\"${model.get('id')}\"]`);\n      }, this);\n\n      if ('undefined' === typeof tinymce\n        || null === tinymce.activeEditor\n        || tinymce.activeEditor.isHidden()) {\n        wp.media.editor.insert(_.toArray(shortcodes).join('\\n\\n'));\n      } else {\n        wp.media.editor\n          .insert(`<p>${_.toArray(shortcodes).join('</p><p>')}</p>`);\n      }\n\n      selection.reset();\n      this.frame.close();\n    },\n  });\n  return SimplechartController;\n}\n\n\n\n// WEBPACK FOOTER //\n// ./js/plugin/src/simplechart-controller.js","// Item\nexport default function () {\n  const SimplechartItem = wp.Backbone.View.extend({\n    tagName: 'li',\n    className: 'simplechart-item attachment',\n\n    render() {\n      this.template = wp.media.template('simplechart-insert-item-all');\n      this.$el.html(this.template(this.model.toJSON()));\n\n      return this;\n    },\n  });\n  return SimplechartItem;\n}\n\n\n\n// WEBPACK FOOTER //\n// ./js/plugin/src/simplechart-item.js","// Post Frame\nexport default function () {\n  const postFrame = wp.media.view.MediaFrame.Post;\n\n  const SimplechartPostFrame = postFrame.extend({\n    initialize(...args) {\n      postFrame.prototype.initialize.apply(this, args);\n\n      const id = 'simplechart';\n      const controller = {\n        id,\n        toolbar: `${id}-toolbar`,\n        menu: 'default',\n        title: 'Insert Chart',\n        priority: 100,\n        content: 'simplechart-content-all',\n      };\n\n      this.on(\n        'content:render:simplechart-content-all',\n        this.simplechartContentRender,\n        this\n      );\n\n      this.states.add([\n        new wp.media.controller.Simplechart(controller),\n      ]);\n\n      this.on(\n        'toolbar:create:simplechart-toolbar',\n        this.simplechartToolbarCreate,\n        this\n      );\n    },\n\n    simplechartContentRender() {\n      this.content.set(new wp.media.view.Simplechart({\n        controller: this,\n        model: this.state().props.get('all'),\n        className: 'clearfix attachments-browser simplechart-all',\n      }));\n    },\n\n    simplechartToolbarCreate(toolbar) {\n      // eslint-disable-next-line no-param-reassign\n      toolbar.view = new wp.media.view.Toolbar.Simplechart({\n        controller: this,\n      });\n    },\n  });\n\n  return SimplechartPostFrame;\n}\n\n\n\n// WEBPACK FOOTER //\n// ./js/plugin/src/simplechart-post-frame.js","// Toolbar\nexport default function () {\n  const {\n    initialize: parentInitialize,\n  } = wp.media.view.Toolbar.prototype;\n\n  const SimplechartToolbar = wp.media.view.Toolbar.extend({\n    initialize(...args) {\n      _.defaults(this.options, {\n        event: 'inserter',\n        close: false,\n        items: {\n          // See wp.media.view.Button\n          inserter: {\n            id: 'simplechart-button',\n            style: 'primary',\n            text: 'Insert into post',\n            priority: 80,\n            click: () => {\n              this.controller.state().doInsert();\n            },\n          },\n        },\n      });\n\n      parentInitialize.apply(this, args);\n\n      this.set('pagination', new wp.media.view.Button({\n        tagName: 'button',\n        classes: 'simplechart-pagination button button-secondary',\n        id: 'simplechart-loadmore',\n        text: 'Load More',\n        priority: - 20,\n      }));\n    },\n\n    refresh(...args) {\n      const selection = this\n        .controller\n        .state()\n        .props\n        .get('_all')\n        .get('selection');\n\n      // @TODO i think this is redundant\n      this.get('inserter').model.set('disabled', ! selection.length);\n\n      wp.media.view.Toolbar.prototype.refresh.apply(this, args);\n    },\n  });\n\n  return SimplechartToolbar;\n}\n\n\n\n// WEBPACK FOOTER //\n// ./js/plugin/src/simplechart-toolbar.js","/* globals Backbone, simplechart */\n// View\nexport default function () {\n  const SimplechartView = wp.media.View.extend({\n    events: {\n      'click .simplechart-item-area': 'toggleSelectionHandler',\n      'click .simplechart-item .check': 'removeSelectionHandler',\n      'submit .simplechart-toolbar form': 'updateInput',\n    },\n\n    initialize() {\n      /* fired when you switch router tabs */\n\n      this.collection = new Backbone.Collection();\n\n      this.createToolbar();\n      this.clearItems();\n\n      if (this.model.get('items')) {\n        this.collection = new Backbone.Collection();\n        this.collection.reset(this.model.get('items'));\n\n        jQuery('#simplechart-loadmore').attr('disabled', false).show();\n      } else {\n        jQuery('#simplechart-loadmore').hide();\n      }\n\n      this.collection.on('reset', this.render, this);\n\n      this.model.on('change:params', this.changedParams, this);\n\n      this.on('loading', this.loading, this);\n      this.on('loaded', this.loaded, this);\n      this.on('change:params', this.changedParams, this);\n      this.on('change:page', this.changedPage, this);\n\n      jQuery('.simplechart-pagination').click((event) => {\n        this.paginate(event);\n      });\n\n      if (this.model.get('fetchOnRender')) {\n        this.model.set('fetchOnRender', false);\n        this.fetchItems();\n      }\n    },\n\n    render() {\n      /* fired when you switch router tabs */\n\n      const selection = this.getSelection();\n\n      if (this.collection && this.collection.models.length) {\n        this.clearItems();\n\n        const container = document.createDocumentFragment();\n\n        this.collection.each((model) => {\n          container.appendChild(this.renderItem(model));\n        }, this);\n\n        this.$el.find('.simplechart-items').append(container);\n      }\n\n      selection.each((model) => {\n        const id = `#simplechart-item-simplechart-all-${model.get('id')}`;\n        this\n          .$el\n          .find(id)\n          .closest('.simplechart-item')\n          .addClass('selected details');\n      }, this);\n\n      jQuery('#simplechart-button').prop('disabled', ! selection.length);\n\n      return this;\n    },\n\n    renderItem(model) {\n      const view = new wp.media.view.SimplechartItem({\n        model,\n      });\n\n      return view.render().el;\n    },\n\n    createToolbar() {\n      let html;\n      // @TODO this could be a separate view:\n      html = '<div class=\"simplechart-error attachments\"></div>';\n      this.$el.prepend(html);\n\n      // @TODO this could be a separate view:\n      html = '<div class=\"simplechart-empty attachments\"></div>';\n      this.$el.prepend(html);\n\n      // @TODO this could be a separate view:\n      html = '<ul class=\"simplechart-items attachments clearfix\"></ul>';\n      this.$el.append(html);\n\n      // @TODO this could be a separate view:\n      // eslint-disable-next-line max-len\n      const toolbarTemplate = wp.media.template('simplechart-insert-search-all');\n      // eslint-disable-next-line max-len\n      html = `<div class=\"simplechart-toolbar media-toolbar clearfix\">${toolbarTemplate(this.model.toJSON())}</div>`;\n      this.$el.prepend(html);\n    },\n\n    removeSelectionHandler(event) {\n      const target = jQuery(`#${event.currentTarget.id}`);\n      const id = target.attr('data-id');\n\n      this.removeFromSelection(target, id);\n\n      event.preventDefault();\n    },\n\n    toggleSelectionHandler(event) {\n      if (event.target.href) {\n        return;\n      }\n\n      const target = jQuery(`#${event.currentTarget.id}`);\n      const id = target.attr('data-id');\n\n      if (this.getSelection().get(id)) {\n        this.removeFromSelection(target, id);\n      } else {\n        this.addToSelection(target, id);\n      }\n    },\n\n    addToSelection(target, id) {\n      target.closest('.simplechart-item').addClass('selected details');\n\n      // eslint-disable-next-line no-underscore-dangle\n      this.getSelection().add(this.collection._byId[id]);\n\n      // @TODO why isn't this triggered by the above line?\n      this.controller.state().props.trigger('change:selection');\n    },\n\n    removeFromSelection(target, id) {\n      target.closest('.simplechart-item').removeClass('selected details');\n\n      // eslint-disable-next-line no-underscore-dangle\n      this.getSelection().remove(this.collection._byId[id]);\n\n      // @TODO why isn't this triggered by the above line?\n      this.controller.state().props.trigger('change:selection');\n    },\n\n    clearSelection() {\n      this.getSelection().reset();\n    },\n\n    getSelection() {\n      return this.controller.state().props.get('_all').get('selection');\n    },\n\n    clearItems() {\n      this.$el.find('.simplechart-item').removeClass('selected details');\n      this.$el.find('.simplechart-items').empty();\n      this.$el.find('.simplechart-pagination').hide();\n    },\n\n    loading() {\n      // show spinner\n      this.$el.find('.spinner').addClass('is-active');\n\n      // hide messages\n      this.$el.find('.simplechart-error').hide().text('');\n      this.$el.find('.simplechart-empty').hide().text('');\n\n      // disable 'load more' button\n      jQuery('#simplechart-loadmore').attr('disabled', true);\n    },\n\n    loaded() {\n      // hide spinner\n      this.$el.find('.spinner').removeClass('is-active');\n    },\n\n    fetchItems() {\n      this.trigger('loading');\n\n      const date = new Date();\n      const tzOffsetSeconds = date.getTimezoneOffset() * 60;\n\n      /* eslint-disable no-underscore-dangle */\n      const data = {\n        _nonce: simplechart._nonce,\n        service: 'simplechart',\n        tab: 'all',\n        params: this.model.get('params'),\n        page: this.model.get('page'),\n        max_id: this.model.get('max_id'),\n        tz_off: tzOffsetSeconds,\n      };\n      /* eslint-enable no-underscore-dangle */\n\n      wp.media.ajax('simplechart_request', {\n        context: this,\n        success: this.fetchedSuccess,\n        error: this.fetchedError,\n        data,\n      });\n    },\n\n    fetchedSuccess(response) {\n      if (! this.model.get('page')) {\n        if (! response.items) {\n          this.fetchedEmpty(response);\n          return;\n        }\n\n        this.model.set('min_id', response.meta.min_id);\n        this.model.set('items', response.items);\n\n        this.collection.reset(response.items);\n      } else {\n        if (! response.items) {\n          this.moreEmpty(response);\n          return;\n        }\n\n        this.model.set('items', this.model.get('items').concat(response.items));\n\n        const collection = new Backbone.Collection(response.items);\n        const container = document.createDocumentFragment();\n\n        this.collection.add(collection.models);\n\n        collection.each((model) => {\n          container.appendChild(this.renderItem(model));\n        }, this);\n\n        this.$el.find('.simplechart-items').append(container);\n      }\n\n      jQuery('#simplechart-loadmore').attr('disabled', false).show();\n      this.model.set('max_id', response.meta.max_id);\n\n      this.trigger('loaded loaded:success', response);\n    },\n\n    fetchedEmpty(response) {\n      this\n        .$el\n        .find('.simplechart-empty')\n        .text('No charts matched your search query.')\n        .show();\n      this.$el.find('.simplechart-pagination').hide();\n\n      this.trigger('loaded loaded:noresults', response);\n    },\n\n    fetchedError(response) {\n      this.$el.find('.simplechart-error').text(response.error_message).show();\n      jQuery('#simplechart-loadmore').attr('disabled', false).show();\n      this.trigger('loaded loaded:error', response);\n    },\n\n    moreEmpty(response) {\n      this.$el.find('.simplechart-pagination').hide();\n\n      this.trigger('loaded loaded:noresults', response);\n    },\n\n    updateInput(event) {\n      // triggered when a search is submitted\n\n      const params = this.model.get('params');\n      this.$el.find('.simplechart-toolbar').find(':input').each(() => {\n        const n = jQuery(this).attr('name');\n        if (n) {\n          params[n] = jQuery(this).val();\n        }\n      });\n\n      this.clearSelection();\n      jQuery('#simplechart-button').attr('disabled', 'disabled');\n      this.model.set('params', params);\n      this.trigger('change:params'); // why isn't this triggering automatically? might be because params is an object\n\n      event.preventDefault();\n    },\n\n    paginate(event) {\n      if (0 === this.collection.length) {\n        return;\n      }\n\n      const page = this.model.get('page') || 1;\n\n      this.model.set('page', page + 1);\n      this.trigger('change:page');\n\n      event.preventDefault();\n    },\n\n    changedPage() {\n      // triggered when the pagination is changed\n      this.fetchItems();\n    },\n\n    changedParams() {\n      // triggered when the search parameters are changed\n      this.model.set('page', null);\n      this.model.set('min_id', null);\n      this.model.set('max_id', null);\n\n      this.clearItems();\n      this.fetchItems();\n    },\n  });\n\n  return SimplechartView;\n}\n\n\n\n// WEBPACK FOOTER //\n// ./js/plugin/src/simplechart-view.js","import SimplechartController from './simplechart-controller';\nimport SimplechartItem from './simplechart-item';\nimport SimplechartPostFrame from './simplechart-post-frame';\nimport SimplechartToolbar from './simplechart-toolbar';\nimport SimplechartView from './simplechart-view';\n\ndocument.addEventListener('DOMContentLoaded', () => {\n  wp.media.controller.Simplechart = SimplechartController();\n  wp.media.view.Toolbar.Simplechart = SimplechartToolbar();\n  wp.media.view.SimplechartItem = SimplechartItem();\n  wp.media.view.Simplechart = SimplechartView();\n  wp.media.view.MediaFrame.Post = SimplechartPostFrame();\n});\n\n\n\n// WEBPACK FOOTER //\n// ./js/plugin/src/simplechart-insert.js"],"sourceRoot":""}