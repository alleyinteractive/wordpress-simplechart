<?xml version="1.0"?>
<ruleset name="WP Starter Theme">
	<description>PHP_CodeSniffer standard for WP Starter Theme.</description>

	<!--
	Pass some flags to PHPCS:
	 p flag: Show progress of the run.
	 s flag: Show sniff codes in all reports.
	-->
	<arg value="ps" />

	<!-- Strip the filepaths down to the relevant bit. -->
	<arg name="basepath" value="./" />

	<!-- Check up to 8 files simultaneously. -->
	<arg name="parallel" value="1" />

	<!-- Only check the PHP files. -->
	<arg name="extensions" value="php" />

	<!-- Set severity to 1 to see everything that isn't effectively turned off. -->
	<arg name="severity" value="1" />

	<!-- Check all files in this directory and the directories below it. -->
	<file>.</file>

	<!-- Exclude a few directories and autogenerated files. -->
	<exclude-pattern>*/node_modules/*</exclude-pattern>
	<exclude-pattern>*/vendor/</exclude-pattern>
	<exclude-pattern>inc/cli.php</exclude-pattern>
	<exclude-pattern>tests/</exclude-pattern>

	<rule ref="WordPress" />
	<rule ref="WordPressVIPMinimum" />
	<rule ref="WordPress-VIP-Go" />

	<!-- The version set here matches the minimum version tested in .travis.yml.  -->
	<config name="minimum_supported_wp_version" value="4.9" />

	<rule ref="Squiz.Commenting.FileComment.SpacingAfterComment">
		<!--
		Downgrade while so many PHP files are empty to start with.
		The empty file makes it difficult to comply with this rule
		and the trailing newline rule at the same time.
		-->
		<type>warning</type>

		<!--
		Once your PHP files have been filled in, you might be able
		to start checking for compliance again with an
		exclude-pattern like these:
		<exclude-pattern>themes(/vip)?/[^/]+/[^/]+\.php$</exclude-pattern>
		<exclude-pattern>themes(/vip)?/[^/]+/template-parts/*</exclude-pattern>
		-->
	</rule>

	<rule ref="Generic.Files.OneObjectStructurePerFile">
		<!--
		Increase severity. If it becomes a problem for this sniff to trigger an
		error, then we might want to provide feedback to the WPCS maintainers.
		See https://github.com/WordPress-Coding-Standards/WordPress-Coding-Standards/pull/1111.
		-->
		<type>error</type>
	</rule>

	<rule ref="WordPress.WP.I18n">
		<properties>
			<!--
			Verify that the text_domain is set to the desired text-domain.
			Multiple valid text domains can be provided as a comma-delimited list.
			 -->
			<property name="text_domain" type="array" value="simplechart" />
		</properties>
	</rule>

	<rule ref="WordPress.Files.FileName">
		<properties>
			<!--
			Allow for theme-specific exceptions to the file name rules based
			on the theme hierarchy.
			 -->
			<property name="is_theme" value="true" />
		</properties>
	</rule>

	<rule ref="WordPress.NamingConventions.PrefixAllGlobals">
		<properties>
			<property name="prefixes" type="array" value="simplechart" />
		</properties>

		<!-- In practice, partials should be loaded outside of the global namespace with get_template_part(). -->
		<exclude-pattern>themes(/vip)?/[^/]+/template-parts/</exclude-pattern>
		<exclude-pattern>vendor/</exclude-pattern>
	</rule>

	<rule ref="Generic.PHP.ForbiddenFunctions">
		<properties>
			<!--
			WordPress.com VIP does not propagate wp_cache_set data across datacenters,
			largely to avoid attempting to propagate large (>50k) data for batcache.
			-->
			<property name="forbiddenFunctions" type="array" value="wp_cache_add=>wp_cache_set" />
			<!-- This is the newer format, only supported in PHPCS 3.3.0+
			<property name="forbiddenFunctions" type="array">
				<element key="wp_cache_add" value="wp_cache_set"/>
			</property> -->
		</properties>
	</rule>

	<!-- TODO: Fix issues with these rules and re-enable as soon as possible. -->
	<rule ref="Generic.Commenting.DocComment.MissingShort">
		<severity>0</severity>
	</rule>
	<rule ref="Generic.Commenting.DocComment.ShortNotCapital">
		<severity>0</severity>
	</rule>
	<rule ref="Generic.Commenting.DocComment.SpacingBeforeTags">
		<severity>0</severity>
	</rule>
	<rule ref="Generic.Formatting.MultipleStatementAlignment.NotSameWarning">
		<severity>0</severity>
	</rule>
	<rule ref="Generic.WhiteSpace.ScopeIndent.Incorrect">
		<severity>0</severity>
	</rule>
	<rule ref="PEAR.Files.IncludingFile.BracketsNotRequired">
		<severity>0</severity>
	</rule>
	<rule ref="PSR2.ControlStructures.ElseIfDeclaration.NotAllowed">
		<severity>0</severity>
	</rule>
	<rule ref="PSR2.Methods.MethodDeclaration.Underscore">
		<severity>0</severity>
	</rule>
	<rule ref="Squiz.Commenting.BlockComment.NoEmptyLineBefore">
		<severity>0</severity>
	</rule>
	<rule ref="Squiz.Commenting.ClassComment.Missing">
		<severity>0</severity>
	</rule>
	<rule ref="Squiz.Commenting.ClassComment.SpacingAfter">
		<severity>0</severity>
	</rule>
	<rule ref="Squiz.Commenting.ClassComment.WrongStyle">
		<severity>0</severity>
	</rule>
	<rule ref="Squiz.Commenting.DocCommentAlignment.SpaceBeforeStar">
		<severity>0</severity>
	</rule>
	<rule ref="Squiz.Commenting.FileComment.Missing">
		<severity>0</severity>
	</rule>
	<rule ref="Squiz.Commenting.FileComment.MissingPackageTag">
		<severity>0</severity>
	</rule>
	<rule ref="Squiz.Commenting.FileComment.WrongStyle">
		<severity>0</severity>
	</rule>
	<rule ref="Squiz.Commenting.FunctionComment.ExtraParamComment">
		<severity>0</severity>
	</rule>
	<rule ref="Squiz.Commenting.FunctionComment.InvalidNoReturn">
		<severity>0</severity>
	</rule>
	<rule ref="Squiz.Commenting.FunctionComment.Missing">
		<severity>0</severity>
	</rule>
	<rule ref="Squiz.Commenting.FunctionComment.MissingParamTag">
		<severity>0</severity>
	</rule>
	<rule ref="Squiz.Commenting.FunctionComment.ParamCommentFullStop">
		<severity>0</severity>
	</rule>
	<rule ref="Squiz.Commenting.FunctionComment.SpacingAfterParamType">
		<severity>0</severity>
	</rule>
	<rule ref="Squiz.Commenting.FunctionComment.WrongStyle">
		<severity>0</severity>
	</rule>
	<rule ref="Squiz.Commenting.InlineComment.InvalidEndChar">
		<severity>0</severity>
	</rule>
	<rule ref="Squiz.Commenting.InlineComment.NoSpaceBefore">
		<severity>0</severity>
	</rule>
	<rule ref="Squiz.Commenting.InlineComment.SpacingAfter">
		<severity>0</severity>
	</rule>
	<rule ref="Squiz.Commenting.VariableComment.Missing">
		<severity>0</severity>
	</rule>
	<rule ref="Squiz.Commenting.VariableComment.WrongStyle">
		<severity>0</severity>
	</rule>
	<rule ref="Squiz.Operators.ValidLogicalOperators.NotAllowed">
		<severity>0</severity>
	</rule>
	<rule ref="Squiz.PHP.NonExecutableCode.ReturnNotRequired">
		<severity>0</severity>
	</rule>
	<rule ref="Squiz.Scope.MethodScope.Missing">
		<severity>0</severity>
	</rule>
	<rule ref="WordPress.Arrays.MultipleStatementAlignment.DoubleArrowNotAligned">
		<severity>0</severity>
	</rule>
	<rule ref="WordPress.Classes.ClassInstantiation.MissingParenthesis">
		<severity>0</severity>
	</rule>
	<rule ref="WordPress.Files.FileName.InvalidClassFileName">
		<severity>0</severity>
	</rule>
	<rule ref="WordPress.NamingConventions.PrefixAllGlobals.NonPrefixedHooknameFound">
		<severity>0</severity>
	</rule>
	<rule ref="WordPress.NamingConventions.PrefixAllGlobals.NonPrefixedVariableFound">
		<severity>0</severity>
	</rule>
	<rule ref="WordPress.PHP.NoSilencedErrors.Discouraged">
		<severity>0</severity>
	</rule>
	<rule ref="WordPress.PHP.StrictInArray.MissingTrueStrict">
		<severity>0</severity>
	</rule>
	<rule ref="WordPress.Security.EscapeOutput.OutputNotEscaped">
		<severity>0</severity>
	</rule>
	<rule ref="WordPress.WhiteSpace.PrecisionAlignment.Found">
		<severity>0</severity>
	</rule>
	<rule ref="WordPress.WP.AlternativeFunctions.json_encode_json_encode">
		<severity>0</severity>
	</rule>
	<rule ref="WordPress.WP.EnqueuedResourceParameters.NoExplicitVersion">
		<severity>0</severity>
	</rule>
	<rule ref="WordPress.WP.EnqueuedResourceParameters.NotInFooter">
		<severity>0</severity>
	</rule>
	<rule ref="WordPress.WP.EnqueuedResources.NonEnqueuedScript">
		<severity>0</severity>
	</rule>
	<rule ref="WordPress.WP.GlobalVariablesOverride.OverrideProhibited">
		<severity>0</severity>
	</rule>
	<rule ref="WordPress.WP.I18n.MissingTranslatorsComment">
		<severity>0</severity>
	</rule>
	<rule ref="WordPressVIPMinimum.Classes.RestrictedExtendClasses.wp_cli">
		<severity>0</severity>
	</rule>
	<rule ref="WordPressVIPMinimum.Files.IncludingFile.IncludingFile">
		<severity>0</severity>
	</rule>
	<rule ref="WordPressVIPMinimum.Variables.VariableAnalysis.UndefinedVariable">
		<severity>0</severity>
	</rule>
	<rule ref="WordPress.WP.GlobalVariablesOverride.Prohibited">
		<severity>0</severity>
	</rule>
	<rule ref="WordPressVIPMinimum.Files.IncludingFile.UsingCustomConstant">
		<severity>0</severity>
	</rule>
	<rule ref="PSR2.Classes.PropertyDeclaration.Underscore">
		<severity>0</severity>
	</rule>
	<rule ref="WordPressVIPMinimum.Functions.RestrictedFunctions.file_ops_unlink">
		<severity>0</severity>
	</rule>
	<rule ref="WordPressVIPMinimum.Functions.RestrictedFunctions.wp_remote_get_wp_remote_get">
		<severity>0</severity>
	</rule>
	<rule ref="WordPressVIPMinimum.Files.IncludingFile.UsingVariable">
		<severity>0</severity>
	</rule>
	<rule ref="WordPress.PHP.DisallowShortTernary.Found">
		<severity>0</severity>
	</rule>
	<rule ref="WordPress.DateTime.RestrictedFunctions.date_date">
		<severity>0</severity>
	</rule>
	<rule ref="Squiz.Commenting.BlockComment.HasEmptyLineBefore">
		<severity>0</severity>
	</rule>
	<rule ref="Generic.PHP.NoSilencedErrors.Forbidden">
		<severity>0</severity>
	</rule>
	<!--
	<rule ref="">
		<severity>0</severity>
	</rule>
	-->

</ruleset>
